<html>

<head>
    <title>Beginner's Guide to React</title>
    <meta charset='UTF-8'/>
</head>

<body>
  <div id='root'></div>
  <script src='https://unpkg.com/react@16.3.1/umd/react.development.js'></script>
  <script src='https://unpkg.com/react-dom@16.3.1/umd/react-dom.development.js'></script>
  <script src='https://unpkg.com/babel-standalone@6.26.0/babel.js'></script>
  <script type='text/babel'>
    class FocusDemo extends React.Component {
      state = {
        items: [
          {id: 'a', value: 'apple'},
          {id: 'o', value: 'orange'},
          {id: 'g', value: 'grape'},
          {id: 'p', value: 'pear'},
        ],
      }
      //Calls randomizeItems every 1sec
      componentDidMount() {
        setInterval(this.randomizeItems, 1000)
      }
      //Modifies items[] state by shuffling it
      randomizeItems = () => {
        this.setState(({items}) => ({
          items: shuffle(items),
        }))
      }
      render() {
        return (
          <div>
            <div>
              <h1>Without Key</h1>
              {this.state.items.map(item => (
                <input
                readOnly
                value={item.value} />
              ))}
            </div>
            <div>
              <h1>With Key as Index</h1>
              {this.state.items.map((item, index) => (
                <input
                  readOnly
                  key={index}
                  value={item.value}
                />
              ))}
            </div>
            <div>
              <h1>With Key</h1>
              {this.state.items.map(item => (
                <input
                  readOnly
                  key={item.id}
                  value={item.value}
                />
              ))}
            </div>
          </div>
        )
      }
    } 
    function shuffle(array) {
      var currentIndex = array.length,
        temporaryValue,
        randomIndex
      // While there remain elements to shuffle...
      while (0 !== currentIndex) {
        // Pick a remaining element...
        randomIndex = Math.floor(
          Math.random() * currentIndex,
        )
        currentIndex -= 1
        // And swap it with the current element.
        temporaryValue = array[currentIndex]
        array[currentIndex] = array[randomIndex]
        array[randomIndex] = temporaryValue
      }
      return array
    }

    ReactDOM.render(
      <FocusDemo />,
      document.getElementById('root'),
    )
  </script>
</body>

</html>